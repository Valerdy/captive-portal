# Configuration PostgreSQL pour le Backend Django
# Copiez ce fichier vers .env pour utiliser PostgreSQL

# Django Configuration
SECRET_KEY=django-insecure-dev-key-change-in-production-!uwv@971di86)lw6c!=85n+uclltw$g2*y0_17$%y#1ln0@mzc
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# ============================================
# DATABASE CONFIGURATION - PostgreSQL
# ============================================
DB_ENGINE=django.db.backends.postgresql
DB_NAME=captive_portal_db
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432

# IMPORTANT: Ajustez ces paramètres selon votre configuration PostgreSQL:
#
# Par défaut PostgreSQL:
#   - User: postgres
#   - Password: celui que vous avez défini lors de l'installation
#   - Host: localhost (si PostgreSQL est sur votre machine)
#   - Port: 5432 (port par défaut PostgreSQL)
#   - Database: captive_portal_db (à créer avec pgAdmin)
#
# Pour créer la base de données dans pgAdmin:
#   1. Ouvrez pgAdmin
#   2. Connectez-vous au serveur PostgreSQL
#   3. Clic droit sur "Databases" → Create → Database
#   4. Nom: captive_portal_db
#   5. Owner: postgres
#   6. Encoding: UTF8
#   7. Save

# ============================================
# CORS Configuration
# ============================================
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000

# ============================================
# JWT Token Lifetimes (in minutes)
# ============================================
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=1440

# ============================================
# Mikrotik Router Configuration
# ============================================
MIKROTIK_HOST=192.168.88.1
MIKROTIK_PORT=8728
MIKROTIK_USERNAME=admin
MIKROTIK_PASSWORD=
MIKROTIK_USE_SSL=False

# ============================================
# Mikrotik Agent Configuration
# ============================================
MIKROTIK_AGENT_URL=http://localhost:3001
MIKROTIK_AGENT_TIMEOUT=10

# ============================================
# RADIUS Configuration
# ============================================
RADIUS_SERVER=127.0.0.1
RADIUS_SECRET=testing123
RADIUS_AUTH_PORT=1812
RADIUS_ACCT_PORT=1813

# ============================================
# Captive Portal Configuration
# ============================================
PORTAL_REDIRECT_URL=http://example.com
SESSION_TIMEOUT=3600

# ============================================
# NOTES DE CONFIGURATION
# ============================================
#
# 1. PostgreSQL doit être installé et démarré
#    - Windows: Téléchargez depuis https://www.postgresql.org/download/windows/
#    - Ou utilisez pgAdmin 4 qui inclut PostgreSQL
#
# 2. Créez la base de données 'captive_portal_db' avec pgAdmin:
#    - Clic droit sur Databases → Create → Database
#    - Name: captive_portal_db
#    - Owner: postgres
#    - Encoding: UTF8
#
# 3. Vérifiez que PostgreSQL écoute sur le port 5432:
#    - Fichier: C:\Program Files\PostgreSQL\XX\data\postgresql.conf
#    - Ligne: listen_addresses = 'localhost'
#    - Ligne: port = 5432
#
# 4. Vérifiez les permissions dans pg_hba.conf:
#    - Fichier: C:\Program Files\PostgreSQL\XX\data\pg_hba.conf
#    - Ligne: host    all    all    127.0.0.1/32    md5
#
# 5. Testez la connexion avec:
#    python test_postgresql_connection.py
#
# 6. Appliquez les migrations:
#    python manage.py migrate
#
# 7. Créez un superuser:
#    python manage.py createsuperuser
#
